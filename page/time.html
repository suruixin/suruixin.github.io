<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
</head>
<style>
	body,html,ul,li,img{
		width: 100%;
		list-style: none;
		padding: 0;margin: 0;
	}
</style>
<body>
	<ul>
		<li><img src="../images/1.jpg" alt="" /></li>
		<li><img src="../images/2.jpg" alt="" /></li>
		<li><img src="../images/3.jpg" alt="" /></li>
	</ul>
</body>
<script src="../js/lib/jquery.js"></script>
<script src="../js/lib/layer/layer.js"></script>
<script>
//	$.get('../json/layer.json',function(data){
//		console.log(data)
//		layer.photos({
//		    photos: data //格式见API文档手册页
//		    ,anim: 5 //0-6的选择，指定弹出图片动画类型，默认随机
//	  	});
//	})
	layer.photos({
	  photos: 'ul'
	  ,anim: 5 //0-6的选择，指定弹出图片动画类型，默认随机（请注意，3.0之前的版本用shift参数）
	});
	$('body').on('touchstart','.layui-layer-photos',function(e){
	    var _sx = e.originalEvent.changedTouches[0].pageX;
	    var _i = 0;
	    var _l = $(this).css('left').split('p')[0]*1;
	    $(this).on("touchmove", function(e) {
	    	e.preventDefault();
	    	_x = e.originalEvent.changedTouches[0].pageX - _sx;
	    	$(this).css({'left':(_l+_x)})
	    })
	    $(this).on('touchend',function(e){
	    	e.preventDefault();
	    	$(this).off('touchend touchmove');
	    	var _nx = e.originalEvent.changedTouches[0].pageX;
	    	if(_nx == _sx){
	    		$('.layui-layer-shade').css('z-index',999999999999999).click()
	    	}else if(_nx < _sx){
	    		$('.layui-layer-imgnext').click()
	    	}else{
	    		$('.layui-layer-imgprev').click()
	    	}
	    })
	})
	
</script>
</html>